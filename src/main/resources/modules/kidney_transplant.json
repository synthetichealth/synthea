{
  "name": "Kidney Transplant",
  "remarks": [
    "Basic Kidney Transplant module."
  ],
  "states": {
    "Initial": {
      "type": "Initial",
      "direct_transition": "Wait Until Kidney Required"
    },
    "Wait Until Kidney Required": {
      "type": "Guard",
      "allow": {
        "condition_type": "Attribute",
        "attribute": "ckd",
        "operator": ">=",
        "value": 4
      },
      "direct_transition": "Wait for Consultation"
    },
    "Wait Until Kidney Available": {
      "type": "Delay",
      "distribution": {
        "kind": "GAUSSIAN",
        "parameters": {
          "mean": 5,
          "standardDeviation": 1
        }
      },
      "unit": "years",
      "direct_transition": "Initiate Dental Cleaning"
    },
    "Reset Kidney Damage": {
      "type": "SetAttribute",
      "attribute": "ckd",
      "value": 0,
      "direct_transition": "End_CKD_1"
    },
    "Transplant Encounter": {
      "type": "Encounter",
      "encounter_class": "inpatient",
      "reason": "Awaiting Transplant",
      "telemedicine_possibility": "none",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "305432006",
          "display": "Admission to surgical transplant department (procedure)"
        }
      ],
      "direct_transition": "Pretransplant_MetabolicPanel"
    },
    "End Transplant Encounter": {
      "type": "EncounterEnd",
      "direct_transition": "Schedule Five Follow Ups"
    },
    "Schedule Follow Up": {
      "type": "Delay",
      "distribution": {
        "kind": "EXACT",
        "parameters": {
          "value": 1
        }
      },
      "unit": "weeks",
      "direct_transition": "Follow Up Encounter"
    },
    "Follow Up Encounter": {
      "type": "Encounter",
      "encounter_class": "ambulatory",
      "reason": "History of Transplant",
      "telemedicine_possibility": "none",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "439740005",
          "display": "Postoperative follow-up visit (procedure)"
        }
      ],
      "direct_transition": "Weekly MetabolicPanel"
    },
    "End Follow Up": {
      "type": "EncounterEnd",
      "direct_transition": "Remaining Followups"
    },
    "Schedule Five Follow Ups": {
      "type": "SetAttribute",
      "attribute": "remaining_kidney_transplant_followups",
      "direct_transition": "Schedule Follow Up",
      "value": 5
    },
    "Remaining Followups": {
      "type": "Counter",
      "attribute": "remaining_kidney_transplant_followups",
      "action": "decrement",
      "conditional_transition": [
        {
          "transition": "Schedule Follow Up",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "remaining_kidney_transplant_followups",
            "operator": ">",
            "value": 0
          }
        },
        {
          "transition": "End Rejection"
        }
      ]
    },
    "End_CKD_1": {
      "type": "ConditionEnd",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "431855005",
          "display": "Chronic kidney disease stage 1 (disorder)"
        }
      ],
      "direct_transition": "End_CKD_2"
    },
    "End_CKD_2": {
      "type": "ConditionEnd",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "431856006",
          "display": "Chronic kidney disease stage 2 (disorder)"
        }
      ],
      "direct_transition": "End_CKD_3"
    },
    "End_CKD_3": {
      "type": "ConditionEnd",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "433144002",
          "display": "Chronic kidney disease stage 3 (disorder)"
        }
      ],
      "direct_transition": "End_CKD_4"
    },
    "Medication Review": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "473231009",
          "display": "Renal disorder medication review (procedure)"
        }
      ],
      "distribution": {
        "kind": "UNIFORM",
        "parameters": {
          "high": 60,
          "low": 30
        }
      },
      "unit": "minutes",
      "reason": "History of Transplant",
      "conditional_transition": [
        {
          "transition": "Cancel Low Dose",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "kidney_transplant_rejection",
            "operator": "==",
            "value": true
          }
        },
        {
          "transition": "Administer Immunosuppressive"
        }
      ]
    },
    "Kidney Transplant": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "70536003",
          "display": "Transplant of kidney (procedure)"
        }
      ],
      "distribution": {
        "kind": "GAUSSIAN",
        "parameters": {
          "mean": 90,
          "standardDeviation": 20
        }
      },
      "unit": "minutes",
      "direct_transition": "End_Waiting",
      "reason": "Awaiting Transplant"
    },
    "Consultation": {
      "type": "Encounter",
      "encounter_class": "ambulatory",
      "reason": "dialysis_reason",
      "telemedicine_possibility": "none",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "185347001",
          "display": "Encounter for problem (procedure)"
        }
      ],
      "direct_transition": "Consultation_MetabolicPanel"
    },
    "End Consultation": {
      "type": "EncounterEnd",
      "direct_transition": "Wait Until Kidney Available"
    },
    "Awaiting Transplant": {
      "type": "ConditionOnset",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "698306007",
          "display": "Awaiting transplantation of kidney (situation)"
        }
      ],
      "direct_transition": "Referral",
      "assign_to_attribute": "kidney_transplant_dental_reason"
    },
    "Wait for Consultation": {
      "type": "Delay",
      "distribution": {
        "kind": "GAUSSIAN",
        "parameters": {
          "mean": 3,
          "standardDeviation": 1
        }
      },
      "unit": "months",
      "direct_transition": "Consultation"
    },
    "History of Transplant": {
      "type": "ConditionOnset",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "161665007",
          "display": "History of renal transplant (situation)"
        }
      ],
      "direct_transition": "Post Transplant Care Plan",
      "assign_to_attribute": "kidney_transplant"
    },
    "Administer Immunosuppressive": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": 108515,
          "display": "1 ML tacrolimus 5 MG/ML Injection"
        }
      ],
      "direct_transition": "Followup Care",
      "reason": "History of Transplant",
      "administration": true
    },
    "Weekly MetabolicPanel": {
      "type": "DiagnosticReport",
      "number_of_observations": 8,
      "codes": [
        {
          "system": "LOINC",
          "code": "51990-0",
          "display": "Basic Metabolic Panel"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "vital_sign": "Glucose",
          "codes": [
            {
              "system": "LOINC",
              "code": "2339-0",
              "display": "Glucose"
            }
          ],
          "unit": "mg/dL"
        },
        {
          "category": "laboratory",
          "vital_sign": "Urea Nitrogen",
          "codes": [
            {
              "system": "LOINC",
              "code": "6299-2",
              "display": "Urea Nitrogen"
            }
          ],
          "unit": "mg/dL"
        },
        {
          "category": "laboratory",
          "vital_sign": "Creatinine",
          "codes": [
            {
              "system": "LOINC",
              "code": "38483-4",
              "display": "Creatinine"
            }
          ],
          "unit": "mg/dL"
        },
        {
          "category": "laboratory",
          "vital_sign": "Calcium",
          "codes": [
            {
              "system": "LOINC",
              "code": "49765-1",
              "display": "Calcium"
            }
          ],
          "unit": "mg/dL"
        },
        {
          "category": "laboratory",
          "vital_sign": "Sodium",
          "codes": [
            {
              "system": "LOINC",
              "code": "2947-0",
              "display": "Sodium"
            }
          ],
          "unit": "mmol/L"
        },
        {
          "category": "laboratory",
          "vital_sign": "Potassium",
          "codes": [
            {
              "system": "LOINC",
              "code": "6298-4",
              "display": "Potassium"
            }
          ],
          "unit": "mmol/L"
        },
        {
          "category": "laboratory",
          "vital_sign": "Chloride",
          "codes": [
            {
              "system": "LOINC",
              "code": "2069-3",
              "display": "Chloride"
            }
          ],
          "unit": "mmol/L"
        },
        {
          "category": "laboratory",
          "vital_sign": "Carbon Dioxide",
          "codes": [
            {
              "system": "LOINC",
              "code": "20565-8",
              "display": "Carbon Dioxide"
            }
          ],
          "unit": "mmol/L"
        }
      ],
      "direct_transition": "Weekly_CBC_Panel"
    },
    "Weekly_CBC_Panel": {
      "type": "DiagnosticReport",
      "number_of_observations": 4,
      "codes": [
        {
          "system": "LOINC",
          "code": "58410-2",
          "display": "Complete blood count (hemogram) panel - Blood by Automated count"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "6690-2",
              "display": "Leukocytes [#/volume] in Blood by Automated count"
            }
          ],
          "unit": "10*3/uL",
          "range": {
            "low": 3.5,
            "high": 10.5
          }
        },
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "789-8",
              "display": "Erythrocytes [#/volume] in Blood by Automated count"
            }
          ],
          "unit": "10*6/uL",
          "range": {
            "low": 3.9,
            "high": 5.5
          }
        },
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "718-7",
              "display": "Hemoglobin [Mass/volume] in Blood"
            }
          ],
          "unit": "g/dL",
          "range": {
            "low": 12,
            "high": 17.5
          }
        },
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "4544-3",
              "display": "Hematocrit [Volume Fraction] of Blood by Automated count"
            }
          ],
          "unit": "%",
          "range": {
            "low": 35,
            "high": 50
          }
        },
        {
          "category": "laboratory",
          "unit": "fL",
          "codes": [
            {
              "system": "LOINC",
              "code": "787-2",
              "display": "MCV [Entitic volume] by Automated count"
            }
          ],
          "range": {
            "low": 80,
            "high": 95
          }
        },
        {
          "category": "laboratory",
          "unit": "pg",
          "codes": [
            {
              "system": "LOINC",
              "code": "785-6",
              "display": "MCH [Entitic mass] by Automated count"
            }
          ],
          "range": {
            "low": 27,
            "high": 33
          }
        },
        {
          "category": "laboratory",
          "unit": "g/dL",
          "codes": [
            {
              "system": "LOINC",
              "code": "786-4",
              "display": "MCHC [Mass/volume] by Automated count"
            }
          ],
          "range": {
            "low": 33,
            "high": 36
          }
        },
        {
          "category": "laboratory",
          "unit": "fL",
          "codes": [
            {
              "system": "LOINC",
              "code": "21000-5",
              "display": "Erythrocyte distribution width [Entitic volume] by Automated count"
            }
          ],
          "range": {
            "low": 39,
            "high": 46
          }
        },
        {
          "category": "laboratory",
          "unit": "10*3/uL",
          "codes": [
            {
              "system": "LOINC",
              "code": "777-3",
              "display": "Platelets [#/volume] in Blood by Automated count"
            }
          ],
          "range": {
            "low": 150,
            "high": 450
          }
        },
        {
          "category": "laboratory",
          "unit": "fL",
          "codes": [
            {
              "system": "LOINC",
              "code": "32207-3",
              "display": "Platelet distribution width [Entitic volume] in Blood by Automated count"
            }
          ],
          "range": {
            "low": 150,
            "high": 520
          }
        },
        {
          "category": "laboratory",
          "unit": "fL",
          "codes": [
            {
              "system": "LOINC",
              "code": "32623-1",
              "display": "Platelet mean volume [Entitic volume] in Blood by Automated count"
            }
          ],
          "range": {
            "low": 9.4,
            "high": 12.3
          }
        }
      ],
      "direct_transition": "Weekly Urinalysis"
    },
    "Weekly Urinalysis": {
      "type": "DiagnosticReport",
      "codes": [
        {
          "system": "LOINC",
          "code": "24356-8",
          "display": "Urinalysis complete panel - Urine"
        },
        {
          "system": "LOINC",
          "code": "24357-6",
          "display": "Urinalysis macro (dipstick) panel - Urine"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "unit": "{presence}",
          "codes": [
            {
              "system": "LOINC",
              "code": "25428-4",
              "display": "Glucose [Presence] in Urine by Test strip"
            }
          ],
          "exact": {
            "quantity": 0
          }
        },
        {
          "category": "laboratory",
          "unit": "{presence}",
          "codes": [
            {
              "system": "LOINC",
              "code": "5770-3",
              "display": "Bilirubin.total [Presence] in Urine by Test strip"
            }
          ],
          "exact": {
            "quantity": 0
          }
        },
        {
          "category": "laboratory",
          "unit": "{presence}",
          "codes": [
            {
              "system": "LOINC",
              "code": "2514-8",
              "display": "Ketones [Presence] in Urine by Test strip"
            }
          ],
          "exact": {
            "quantity": 0
          }
        },
        {
          "category": "laboratory",
          "unit": "{SG}",
          "codes": [
            {
              "system": "LOINC",
              "code": "5811-5",
              "display": "Specific gravity of Urine by Test strip"
            }
          ],
          "range": {
            "low": 1.005,
            "high": 1.025
          }
        },
        {
          "category": "laboratory",
          "unit": "[pH]",
          "codes": [
            {
              "system": "LOINC",
              "code": "5803-2",
              "display": "pH of Urine by Test strip"
            }
          ],
          "range": {
            "low": 4.5,
            "high": 8
          }
        },
        {
          "category": "laboratory",
          "unit": "{presence}",
          "codes": [
            {
              "system": "LOINC",
              "code": "20454-5",
              "display": "Protein [Presence] in Urine by Test strip"
            }
          ],
          "exact": {
            "quantity": 0
          }
        },
        {
          "category": "laboratory",
          "unit": "{presence}",
          "codes": [
            {
              "system": "LOINC",
              "code": "5802-4",
              "display": "Nitrite [Presence] in Urine by Test strip"
            }
          ],
          "exact": {
            "quantity": 0
          }
        },
        {
          "category": "laboratory",
          "unit": "{presence}",
          "codes": [
            {
              "system": "LOINC",
              "code": "5794-3",
              "display": "Hemoglobin [Presence] in Urine by Test strip"
            }
          ],
          "exact": {
            "quantity": 0
          }
        },
        {
          "category": "laboratory",
          "unit": "{presence}",
          "codes": [
            {
              "system": "LOINC",
              "code": "5799-2",
              "display": "Leukocyte esterase [Presence] in Urine by Test strip"
            }
          ],
          "exact": {
            "quantity": 0
          }
        }
      ],
      "direct_transition": "Diagnose Rejection if applicable"
    },
    "Evaluation": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "428830000",
          "display": "Pretransplant evaluation of kidney recipient (procedure)"
        }
      ],
      "distribution": {
        "kind": "UNIFORM",
        "parameters": {
          "high": 60,
          "low": 30
        }
      },
      "unit": "minutes",
      "direct_transition": "Administer_Immunosuppressive",
      "reason": "Awaiting Transplant"
    },
    "Referral": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "306316000",
          "display": "Referral to transplant surgeon (procedure)"
        }
      ],
      "distribution": {
        "kind": "UNIFORM",
        "parameters": {
          "high": 60,
          "low": 30
        }
      },
      "unit": "minutes",
      "direct_transition": "End Consultation",
      "reason": "Awaiting Transplant"
    },
    "Consultation_MetabolicPanel": {
      "type": "DiagnosticReport",
      "codes": [
        {
          "system": "LOINC",
          "code": "24321-2",
          "display": "Basic Metabolic 2000 Panel"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "vital_sign": "Glucose",
          "codes": [
            {
              "system": "LOINC",
              "code": "2339-0",
              "display": "Glucose"
            }
          ],
          "unit": "mg/dL"
        },
        {
          "category": "laboratory",
          "vital_sign": "Urea Nitrogen",
          "codes": [
            {
              "system": "LOINC",
              "code": "6299-2",
              "display": "Urea Nitrogen"
            }
          ],
          "unit": "mg/dL"
        },
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "38483-4",
              "display": "Creatinine"
            }
          ],
          "unit": "mg/dL",
          "range": {
            "low": 2.5,
            "high": 3
          }
        },
        {
          "category": "laboratory",
          "vital_sign": "Calcium",
          "codes": [
            {
              "system": "LOINC",
              "code": "49765-1",
              "display": "Calcium"
            }
          ],
          "unit": "mg/dL"
        },
        {
          "category": "laboratory",
          "vital_sign": "Sodium",
          "codes": [
            {
              "system": "LOINC",
              "code": "2947-0",
              "display": "Sodium"
            }
          ],
          "unit": "mmol/L"
        },
        {
          "category": "laboratory",
          "vital_sign": "Potassium",
          "codes": [
            {
              "system": "LOINC",
              "code": "6298-4",
              "display": "Potassium"
            }
          ],
          "unit": "mmol/L"
        },
        {
          "category": "laboratory",
          "vital_sign": "Chloride",
          "codes": [
            {
              "system": "LOINC",
              "code": "2069-3",
              "display": "Chloride"
            }
          ],
          "unit": "mmol/L"
        },
        {
          "category": "laboratory",
          "vital_sign": "Carbon Dioxide",
          "codes": [
            {
              "system": "LOINC",
              "code": "20565-8",
              "display": "Carbon Dioxide"
            }
          ],
          "unit": "mmol/L"
        },
        {
          "category": "laboratory",
          "unit": "mL/min",
          "codes": [
            {
              "system": "LOINC",
              "code": "33914-3",
              "display": "Glomerular filtration rate/1.73 sq M.predicted"
            }
          ],
          "range": {
            "low": 5,
            "high": 14
          }
        }
      ],
      "direct_transition": "Consultation_Urinalysis"
    },
    "Consultation_Urinalysis": {
      "type": "DiagnosticReport",
      "codes": [
        {
          "system": "LOINC",
          "code": "24357-6",
          "display": "Urinalysis macro (dipstick) panel - Urine"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "5767-9",
              "display": "Appearance of Urine"
            }
          ],
          "unit": "{nominal}",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "7766007",
            "display": "Cloudy urine (finding)"
          }
        },
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "5767-9",
              "display": "Odor of Urine"
            }
          ],
          "unit": "{nominal}",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "167248002",
            "display": "Urine smell ammoniacal (finding)"
          }
        },
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "32167-9",
              "display": "Clarity of Urine"
            }
          ],
          "unit": "{nominal}",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "300828005",
            "display": "Translucent (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "5778-6",
              "display": "Color of Urine"
            }
          ],
          "unit": "{nominal}",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "371254008",
            "display": "Brown color (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "5792-7",
              "display": "Glucose [Mass/volume] in Urine by Test strip"
            }
          ],
          "unit": "mg/dL",
          "range": {
            "low": 0.5,
            "high": 2.5
          }
        },
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "25428-4",
              "display": "Glucose [Presence] in Urine by Test strip"
            }
          ],
          "unit": "{nominal}",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "167265006",
            "display": "Urine glucose test = ++ (finding)"
          }
        },
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "20505-4",
              "display": "Bilirubin.total [Mass/volume] in Urine by Test strip"
            }
          ],
          "unit": "mg/dL",
          "range": {
            "low": 0.2,
            "high": 1.5
          }
        },
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "5770-3",
              "display": "Bilirubin.total [Presence] in Urine by Test strip"
            }
          ],
          "unit": "{nominal}",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "275778006",
            "display": "Finding of bilirubin in urine (finding)"
          }
        },
        {
          "category": "laboratory",
          "unit": "mg/dL",
          "codes": [
            {
              "system": "LOINC",
              "code": "5797-6",
              "display": "Ketones [Mass/volume] in Urine by Test strip"
            }
          ],
          "range": {
            "low": 0,
            "high": 20
          }
        },
        {
          "category": "laboratory",
          "unit": "{nominal}",
          "codes": [
            {
              "system": "LOINC",
              "code": "2514-8",
              "display": "Ketones [Presence] in Urine by Test strip"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": "167291007",
            "display": "Urine ketone test = +++ (finding)"
          }
        },
        {
          "category": "laboratory",
          "unit": "{nominal}",
          "codes": [
            {
              "system": "LOINC",
              "code": "5811-5",
              "display": "Specific gravity of Urine by Test strip"
            }
          ],
          "range": {
            "low": 1.001,
            "high": 1.039
          }
        },
        {
          "category": "laboratory",
          "unit": "pH",
          "codes": [
            {
              "system": "LOINC",
              "code": "5803-2",
              "display": "pH of Urine by Test strip"
            }
          ],
          "range": {
            "low": 5,
            "high": 7
          }
        },
        {
          "category": "laboratory",
          "unit": "mg/dL",
          "codes": [
            {
              "system": "LOINC",
              "code": "5804-0",
              "display": "Protein [Mass/volume] in Urine by Test strip"
            }
          ],
          "range": {
            "low": 250,
            "high": 450
          }
        },
        {
          "category": "laboratory",
          "unit": "{nominal}",
          "codes": [
            {
              "system": "LOINC",
              "code": "20454-5",
              "display": "Protein [Presence] in Urine by Test strip"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": "167277001",
            "display": "Urine protein test = +++ (finding)"
          }
        },
        {
          "category": "laboratory",
          "unit": "{nominal}",
          "codes": [
            {
              "system": "LOINC",
              "code": "5802-4",
              "display": "Nitrite [Presence] in Urine by Test strip"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": "314138001",
            "display": "Nitrite not detected in urine (finding)"
          }
        },
        {
          "category": "laboratory",
          "unit": "{nominal}",
          "codes": [
            {
              "system": "LOINC",
              "code": "5794-3",
              "display": "Hemoglobin [Presence] in Urine by Test strip"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": "167297006",
            "display": "Blood not detected in urine (finding)"
          }
        },
        {
          "category": "laboratory",
          "unit": "{nominal}",
          "codes": [
            {
              "system": "LOINC",
              "code": "5799-2",
              "display": "Leukocyte esterase [Presence] in Urine by Test strip"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": "394717006",
            "display": "Urine leukocytes not detected (finding)"
          }
        }
      ],
      "direct_transition": "Awaiting Transplant"
    },
    "Followup Care": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "711446003",
          "display": "Transplantation of kidney regime (regime/therapy)"
        }
      ],
      "distribution": {
        "kind": "UNIFORM",
        "parameters": {
          "high": 60,
          "low": 30
        }
      },
      "unit": "minutes",
      "direct_transition": "End Follow Up",
      "reason": "History of Transplant"
    },
    "Post Transplant Care Plan": {
      "type": "CarePlanStart",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "734163000",
          "display": "Care plan (record artifact)"
        }
      ],
      "direct_transition": "Check for Rejection",
      "activities": [
        {
          "system": "SNOMED-CT",
          "code": "711446003",
          "display": "Transplantation of kidney regime (regime/therapy)"
        },
        {
          "system": "SNOMED-CT",
          "code": "226007004",
          "display": "Post-surgical wound care (regime/therapy)"
        },
        {
          "system": "SNOMED-CT",
          "code": "182809008",
          "display": "Renal function monitoring (regime/therapy)"
        },
        {
          "system": "SNOMED-CT",
          "code": "226164007",
          "display": "Very low sodium diet (finding)"
        }
      ],
      "reason": "History of Transplant"
    },
    "Begin Post Surgical Stay": {
      "type": "SetAttribute",
      "attribute": "kidney_transplant_los",
      "direct_transition": "Next Day",
      "distribution": {
        "kind": "EXPONENTIAL",
        "round": true,
        "parameters": {
          "mean": 4
        }
      }
    },
    "Pretransplant_Urinalysis": {
      "type": "DiagnosticReport",
      "codes": [
        {
          "system": "LOINC",
          "code": "24357-6",
          "display": "Urinalysis macro (dipstick) panel - Urine"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "5767-9",
              "display": "Appearance of Urine"
            }
          ],
          "unit": "{nominal}",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "7766007",
            "display": "Cloudy urine (finding)"
          }
        },
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "5767-9",
              "display": "Odor of Urine"
            }
          ],
          "unit": "{nominal}",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "167248002",
            "display": "Urine smell ammoniacal (finding)"
          }
        },
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "32167-9",
              "display": "Clarity of Urine"
            }
          ],
          "unit": "{nominal}",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "300828005",
            "display": "Translucent (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "5778-6",
              "display": "Color of Urine"
            }
          ],
          "unit": "{nominal}",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "371254008",
            "display": "Brown color (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "5792-7",
              "display": "Glucose [Mass/volume] in Urine by Test strip"
            }
          ],
          "unit": "mg/dL",
          "range": {
            "low": 0.5,
            "high": 2.5
          }
        },
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "25428-4",
              "display": "Glucose [Presence] in Urine by Test strip"
            }
          ],
          "unit": "{nominal}",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "167265006",
            "display": "Urine glucose test = ++ (finding)"
          }
        },
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "20505-4",
              "display": "Bilirubin.total [Mass/volume] in Urine by Test strip"
            }
          ],
          "unit": "mg/dL",
          "range": {
            "low": 0.2,
            "high": 1.5
          }
        },
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "5770-3",
              "display": "Bilirubin.total [Presence] in Urine by Test strip"
            }
          ],
          "unit": "{nominal}",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "275778006",
            "display": "Finding of bilirubin in urine (finding)"
          }
        },
        {
          "category": "laboratory",
          "unit": "mg/dL",
          "codes": [
            {
              "system": "LOINC",
              "code": "5797-6",
              "display": "Ketones [Mass/volume] in Urine by Test strip"
            }
          ],
          "range": {
            "low": 0,
            "high": 20
          }
        },
        {
          "category": "laboratory",
          "unit": "{nominal}",
          "codes": [
            {
              "system": "LOINC",
              "code": "2514-8",
              "display": "Ketones [Presence] in Urine by Test strip"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": "167291007",
            "display": "Urine ketone test = +++ (finding)"
          }
        },
        {
          "category": "laboratory",
          "unit": "{nominal}",
          "codes": [
            {
              "system": "LOINC",
              "code": "5811-5",
              "display": "Specific gravity of Urine by Test strip"
            }
          ],
          "range": {
            "low": 1.001,
            "high": 1.039
          }
        },
        {
          "category": "laboratory",
          "unit": "pH",
          "codes": [
            {
              "system": "LOINC",
              "code": "5803-2",
              "display": "pH of Urine by Test strip"
            }
          ],
          "range": {
            "low": 5,
            "high": 7
          }
        },
        {
          "category": "laboratory",
          "unit": "mg/dL",
          "codes": [
            {
              "system": "LOINC",
              "code": "5804-0",
              "display": "Protein [Mass/volume] in Urine by Test strip"
            }
          ],
          "range": {
            "low": 250,
            "high": 450
          }
        },
        {
          "category": "laboratory",
          "unit": "{nominal}",
          "codes": [
            {
              "system": "LOINC",
              "code": "20454-5",
              "display": "Protein [Presence] in Urine by Test strip"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": "167277001",
            "display": "Urine protein test = +++ (finding)"
          }
        },
        {
          "category": "laboratory",
          "unit": "{nominal}",
          "codes": [
            {
              "system": "LOINC",
              "code": "5802-4",
              "display": "Nitrite [Presence] in Urine by Test strip"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": "314138001",
            "display": "Nitrite not detected in urine (finding)"
          }
        },
        {
          "category": "laboratory",
          "unit": "{nominal}",
          "codes": [
            {
              "system": "LOINC",
              "code": "5794-3",
              "display": "Hemoglobin [Presence] in Urine by Test strip"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": "167297006",
            "display": "Blood not detected in urine (finding)"
          }
        },
        {
          "category": "laboratory",
          "unit": "{nominal}",
          "codes": [
            {
              "system": "LOINC",
              "code": "5799-2",
              "display": "Leukocyte esterase [Presence] in Urine by Test strip"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": "394717006",
            "display": "Urine leukocytes not detected (finding)"
          }
        }
      ],
      "direct_transition": "Evaluation"
    },
    "Pretransplant_MetabolicPanel": {
      "type": "DiagnosticReport",
      "codes": [
        {
          "system": "LOINC",
          "code": "24321-2",
          "display": "Basic Metabolic 2000 Panel"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "vital_sign": "Glucose",
          "codes": [
            {
              "system": "LOINC",
              "code": "2339-0",
              "display": "Glucose"
            }
          ],
          "unit": "mg/dL"
        },
        {
          "category": "laboratory",
          "vital_sign": "Urea Nitrogen",
          "codes": [
            {
              "system": "LOINC",
              "code": "6299-2",
              "display": "Urea Nitrogen"
            }
          ],
          "unit": "mg/dL"
        },
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "38483-4",
              "display": "Creatinine"
            }
          ],
          "unit": "mg/dL",
          "range": {
            "low": 2.5,
            "high": 3
          }
        },
        {
          "category": "laboratory",
          "vital_sign": "Calcium",
          "codes": [
            {
              "system": "LOINC",
              "code": "49765-1",
              "display": "Calcium"
            }
          ],
          "unit": "mg/dL"
        },
        {
          "category": "laboratory",
          "vital_sign": "Sodium",
          "codes": [
            {
              "system": "LOINC",
              "code": "2947-0",
              "display": "Sodium"
            }
          ],
          "unit": "mmol/L"
        },
        {
          "category": "laboratory",
          "vital_sign": "Potassium",
          "codes": [
            {
              "system": "LOINC",
              "code": "6298-4",
              "display": "Potassium"
            }
          ],
          "unit": "mmol/L"
        },
        {
          "category": "laboratory",
          "vital_sign": "Chloride",
          "codes": [
            {
              "system": "LOINC",
              "code": "2069-3",
              "display": "Chloride"
            }
          ],
          "unit": "mmol/L"
        },
        {
          "category": "laboratory",
          "vital_sign": "Carbon Dioxide",
          "codes": [
            {
              "system": "LOINC",
              "code": "20565-8",
              "display": "Carbon Dioxide"
            }
          ],
          "unit": "mmol/L"
        },
        {
          "category": "laboratory",
          "unit": "mL/min",
          "codes": [
            {
              "system": "LOINC",
              "code": "33914-3",
              "display": "Glomerular filtration rate/1.73 sq M.predicted"
            }
          ],
          "range": {
            "low": 5,
            "high": 14
          }
        }
      ],
      "direct_transition": "Pretransplant_Urinalysis"
    },
    "Administer_Immunosuppressive": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": 108515,
          "display": "1 ML tacrolimus 5 MG/ML Injection"
        }
      ],
      "reason": "Awaiting Transplant",
      "administration": true,
      "direct_transition": "Kidney"
    },
    "Stay?": {
      "type": "Counter",
      "attribute": "kidney_transplant_los",
      "action": "decrement",
      "conditional_transition": [
        {
          "transition": "Next Day",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "kidney_transplant_los",
            "operator": ">",
            "value": 0
          }
        },
        {
          "transition": "Prescribe Immunosuppressant"
        }
      ]
    },
    "Next Day": {
      "type": "Delay",
      "distribution": {
        "kind": "EXACT",
        "parameters": {
          "value": 1
        }
      },
      "unit": "days",
      "direct_transition": "Administer_Immunosuppressive_2"
    },
    "Administer_Immunosuppressive_2": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": 108515,
          "display": "1 ML tacrolimus 5 MG/ML Injection"
        }
      ],
      "reason": "History of Transplant",
      "administration": true,
      "direct_transition": "Daily_MetabolicPanel"
    },
    "Daily_MetabolicPanel": {
      "type": "DiagnosticReport",
      "number_of_observations": 8,
      "codes": [
        {
          "system": "LOINC",
          "code": "51990-0",
          "display": "Basic Metabolic Panel"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "vital_sign": "Glucose",
          "codes": [
            {
              "system": "LOINC",
              "code": "2339-0",
              "display": "Glucose"
            }
          ],
          "unit": "mg/dL"
        },
        {
          "category": "laboratory",
          "vital_sign": "Urea Nitrogen",
          "codes": [
            {
              "system": "LOINC",
              "code": "6299-2",
              "display": "Urea Nitrogen"
            }
          ],
          "unit": "mg/dL"
        },
        {
          "category": "laboratory",
          "vital_sign": "Creatinine",
          "codes": [
            {
              "system": "LOINC",
              "code": "38483-4",
              "display": "Creatinine"
            }
          ],
          "unit": "mg/dL"
        },
        {
          "category": "laboratory",
          "vital_sign": "Calcium",
          "codes": [
            {
              "system": "LOINC",
              "code": "49765-1",
              "display": "Calcium"
            }
          ],
          "unit": "mg/dL"
        },
        {
          "category": "laboratory",
          "vital_sign": "Sodium",
          "codes": [
            {
              "system": "LOINC",
              "code": "2947-0",
              "display": "Sodium"
            }
          ],
          "unit": "mmol/L"
        },
        {
          "category": "laboratory",
          "vital_sign": "Potassium",
          "codes": [
            {
              "system": "LOINC",
              "code": "6298-4",
              "display": "Potassium"
            }
          ],
          "unit": "mmol/L"
        },
        {
          "category": "laboratory",
          "vital_sign": "Chloride",
          "codes": [
            {
              "system": "LOINC",
              "code": "2069-3",
              "display": "Chloride"
            }
          ],
          "unit": "mmol/L"
        },
        {
          "category": "laboratory",
          "vital_sign": "Carbon Dioxide",
          "codes": [
            {
              "system": "LOINC",
              "code": "20565-8",
              "display": "Carbon Dioxide"
            }
          ],
          "unit": "mmol/L"
        }
      ],
      "direct_transition": "Daily_CBC_Panel"
    },
    "Daily_CBC_Panel": {
      "type": "DiagnosticReport",
      "number_of_observations": 4,
      "codes": [
        {
          "system": "LOINC",
          "code": "58410-2",
          "display": "Complete blood count (hemogram) panel - Blood by Automated count"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "6690-2",
              "display": "Leukocytes [#/volume] in Blood by Automated count"
            }
          ],
          "unit": "10*3/uL",
          "range": {
            "low": 3.5,
            "high": 10.5
          }
        },
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "789-8",
              "display": "Erythrocytes [#/volume] in Blood by Automated count"
            }
          ],
          "unit": "10*6/uL",
          "range": {
            "low": 3.9,
            "high": 5.5
          }
        },
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "718-7",
              "display": "Hemoglobin [Mass/volume] in Blood"
            }
          ],
          "unit": "g/dL",
          "range": {
            "low": 12,
            "high": 17.5
          }
        },
        {
          "category": "laboratory",
          "codes": [
            {
              "system": "LOINC",
              "code": "4544-3",
              "display": "Hematocrit [Volume Fraction] of Blood by Automated count"
            }
          ],
          "unit": "%",
          "range": {
            "low": 35,
            "high": 50
          }
        },
        {
          "category": "laboratory",
          "unit": "fL",
          "codes": [
            {
              "system": "LOINC",
              "code": "787-2",
              "display": "MCV [Entitic volume] by Automated count"
            }
          ],
          "range": {
            "low": 80,
            "high": 95
          }
        },
        {
          "category": "laboratory",
          "unit": "pg",
          "codes": [
            {
              "system": "LOINC",
              "code": "785-6",
              "display": "MCH [Entitic mass] by Automated count"
            }
          ],
          "range": {
            "low": 27,
            "high": 33
          }
        },
        {
          "category": "laboratory",
          "unit": "g/dL",
          "codes": [
            {
              "system": "LOINC",
              "code": "786-4",
              "display": "MCHC [Mass/volume] by Automated count"
            }
          ],
          "range": {
            "low": 33,
            "high": 36
          }
        },
        {
          "category": "laboratory",
          "unit": "fL",
          "codes": [
            {
              "system": "LOINC",
              "code": "21000-5",
              "display": "Erythrocyte distribution width [Entitic volume] by Automated count"
            }
          ],
          "range": {
            "low": 39,
            "high": 46
          }
        },
        {
          "category": "laboratory",
          "unit": "10*3/uL",
          "codes": [
            {
              "system": "LOINC",
              "code": "777-3",
              "display": "Platelets [#/volume] in Blood by Automated count"
            }
          ],
          "range": {
            "low": 150,
            "high": 450
          }
        },
        {
          "category": "laboratory",
          "unit": "fL",
          "codes": [
            {
              "system": "LOINC",
              "code": "32207-3",
              "display": "Platelet distribution width [Entitic volume] in Blood by Automated count"
            }
          ],
          "range": {
            "low": 150,
            "high": 520
          }
        },
        {
          "category": "laboratory",
          "unit": "fL",
          "codes": [
            {
              "system": "LOINC",
              "code": "32623-1",
              "display": "Platelet mean volume [Entitic volume] in Blood by Automated count"
            }
          ],
          "range": {
            "low": 9.4,
            "high": 12.3
          }
        }
      ],
      "direct_transition": "Daily Followup Care"
    },
    "Daily Followup Care": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "711446003",
          "display": "Transplantation of kidney regime (regime/therapy)"
        }
      ],
      "distribution": {
        "kind": "UNIFORM",
        "parameters": {
          "high": 60,
          "low": 30
        }
      },
      "unit": "minutes",
      "reason": "History of Transplant",
      "direct_transition": "Stay?"
    },
    "Prescribe Immunosuppressant": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": 1664463,
          "display": "24 HR tacrolimus 1 MG Extended Release Oral Tablet"
        }
      ],
      "reason": "History of Transplant",
      "administration": false,
      "direct_transition": "End Transplant Encounter",
      "chronic": true,
      "prescription": {
        "dosage": {
          "amount": 1,
          "frequency": 1,
          "period": 1,
          "unit": "days"
        },
        "duration": {
          "quantity": 90,
          "unit": "days"
        },
        "as_needed": true
      }
    },
    "Kidney": {
      "type": "SupplyList",
      "supplies": [
        {
          "quantity": 1,
          "code": {
            "system": "SNOMED-CT",
            "code": "119219003",
            "display": "Kidney part (body structure)"
          }
        }
      ],
      "direct_transition": "Kidney Transplant"
    },
    "End_Waiting": {
      "type": "ConditionEnd",
      "condition_onset": "Awaiting Transplant",
      "direct_transition": "History of Transplant"
    },
    "Rejection": {
      "type": "SetAttribute",
      "attribute": "kidney_transplant_rejection",
      "direct_transition": "Reset Kidney Damage",
      "value": true
    },
    "Check for Rejection": {
      "type": "Simple",
      "distributed_transition": [
        {
          "transition": "Rejection",
          "distribution": 0.1
        },
        {
          "transition": "Reset Kidney Damage",
          "distribution": 0.9
        }
      ]
    },
    "Diagnose Rejection if applicable": {
      "type": "Simple",
      "conditional_transition": [
        {
          "transition": "Transplant Rejection",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "kidney_transplant_rejection",
            "operator": "==",
            "value": true
          }
        },
        {
          "transition": "Medication Review"
        }
      ]
    },
    "Transplant Rejection": {
      "type": "ConditionOnset",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "213150003",
          "display": "Kidney transplant failure and rejection (disorder)"
        }
      ],
      "direct_transition": "Medication Review"
    },
    "Increase_Immunosuppressant": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": 1431987,
          "display": "24 HR tacrolimus 5 MG Extended Release Oral Capsule"
        }
      ],
      "reason": "History of Transplant",
      "administration": false,
      "chronic": true,
      "prescription": {
        "dosage": {
          "amount": 1,
          "frequency": 1,
          "period": 1,
          "unit": "days"
        },
        "duration": {
          "quantity": 90,
          "unit": "days"
        },
        "as_needed": true
      },
      "direct_transition": "Clear Rejection"
    },
    "Cancel Low Dose": {
      "type": "MedicationEnd",
      "direct_transition": "Increase_Immunosuppressant",
      "medication_order": "Prescribe Immunosuppressant"
    },
    "Clear Rejection": {
      "type": "SetAttribute",
      "attribute": "kidney_transplant_rejection",
      "direct_transition": "Administer Immunosuppressive",
      "value": false
    },
    "End Rejection": {
      "type": "ConditionEnd",
      "direct_transition": "End Dysplasia",
      "condition_onset": "Transplant Rejection"
    },
    "End Dysplasia": {
      "type": "ConditionEnd",
      "direct_transition": "Wait Until Kidney Required",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "204949001",
          "display": "Renal dysplasia (disorder)"
        }
      ]
    },
    "End_CKD_4": {
      "type": "ConditionEnd",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "431857002",
          "display": "Chronic kidney disease stage 4 (disorder)"
        }
      ],
      "direct_transition": "End_End_Stage_Renal_Disease"
    },
    "End_End_Stage_Renal_Disease": {
      "type": "ConditionEnd",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "46177005",
          "display": "End-stage renal disease (disorder)"
        }
      ],
      "direct_transition": "End any other dialysis reason"
    },
    "End any other dialysis reason": {
      "type": "ConditionEnd",
      "direct_transition": "Begin Post Surgical Stay",
      "referenced_by_attribute": "dialysis_reason"
    },
    "Initiate Dental Cleaning": {
      "type": "SetAttribute",
      "attribute": "dental_referral",
      "direct_transition": "Wait for Cleaning",
      "value_attribute": "kidney_transplant_dental_reason"
    },
    "Wait for Cleaning": {
      "type": "Delay",
      "distribution": {
        "kind": "UNIFORM",
        "parameters": {
          "high": 7,
          "low": 1
        }
      },
      "unit": "days",
      "direct_transition": "Check Cleaning Status"
    },
    "Check Cleaning Status": {
      "type": "Simple",
      "conditional_transition": [
        {
          "transition": "Wait for Cleaning",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "dental_referral",
            "operator": "is not nil"
          }
        },
        {
          "transition": "Transplant Encounter"
        }
      ]
    }
  },
  "gmf_version": 2
}