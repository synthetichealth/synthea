{
  "name": "DLBCL_Stage_III_IV_Treatment_Round_One",
  "remarks": [
    "Stage III/IV DLBCL treatment module implementing 3-6 cycles of R-CHOP followed by PET-CT restaging."
  ],
  "states": {
    "Initial": {
      "type": "Initial",
      "direct_transition": "Encounter for first-line therapy"
    },
    "Terminal": {
      "type": "Terminal"
    },
    "Encounter for first-line therapy": {
      "type": "Encounter",
      "encounter_class": "ambulatory",
      "reason": "DLBCL_Condition",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 185347001,
          "display": "Encounter for problem (procedure)"
        }
      ],
      "distributed_transition": [
        {
          "transition": "R-CHOP Drugs",
          "distribution": 0.9
        },
        {
          "transition": "Clinical Trial",
          "distribution": 0.1
        }
      ],
      "remarks": [
        "Only about 5% of DLBCL patients enroll in clinical trials, according to Dr. Perales. As is set up now, 10% of high stage patients and 0% of low stage patients enroll in clinical trials."
      ]
    },
    "Clinical Trial": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 110465008,
          "display": "Clinical trial (procedure)"
        }
      ],
      "direct_transition": "Length of clinical trial",
      "remarks": [
        "https://jnccn.org/view/journals/jnccn/14/2/article-p196.xml"
      ]
    },
    "Follow-up with oncologist for re-staging": {
      "type": "Encounter",
      "encounter_class": "ambulatory",
      "reason": "DLBCL_Condition",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 185389009,
          "display": "Follow-up visit (procedure)"
        }
      ],
      "direct_transition": "PET-CT Scan Re-Staging"
    },
    "End oncologist follow-up for re-staging": {
      "type": "EncounterEnd",
      "distributed_transition": [
        {
          "transition": "Patient Worsened after First-line Treatment",
          "distribution": 0.1
        },
        {
          "transition": "Partial Response to First Line Treatment",
          "distribution": 0.9
        }
      ],
      "remarks": [
        "Per Conversation with Dr. Wood: Most patients who are not survivors or get second line therapy are ones who receive R-CHOP with initial success but then relapse â€“ can take months to years to relapse, not immediate"
      ]
    },
    "Partial Response to First Line Treatment": {
      "type": "Observation",
      "category": "procedure",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "88040-1",
          "display": "Response to cancer treatment"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 268910001,
        "display": "Patient condition improved (finding)"
      },
      "direct_transition": "Encounter with oncologist to discuss next steps"
    },
    "Patient Worsened after First-line Treatment": {
      "type": "Observation",
      "category": "procedure",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "88040-1",
          "display": "Response to cancer treatment"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 271299001,
        "display": "Patient's condition worsened (finding)"
      },
      "direct_transition": "Set Treatment Worsened",
      "remarks": [
        "If condition worsened after initial treatment, they do not continue through regimen"
      ]
    },
    "Set Treatment Worsened": {
      "type": "SetAttribute",
      "attribute": "Treatment_1_Outcome",
      "value": "Worsened",
      "direct_transition": "Terminal"
    },
    "Set Treatment Remission": {
      "type": "SetAttribute",
      "attribute": "Treatment_1_Outcome", 
      "value": "Remission",
      "direct_transition": "Terminal"
    },
    "PET-CT Scan Re-Staging": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 450436003,
          "display": "Positron emission tomography with computed tomography (procedure)"
        }
      ],
      "duration": {
        "low": 30,
        "high": 60,
        "unit": "minutes"
      },
      "direct_transition": "End oncologist follow-up for re-staging",
      "remarks": [
        "https://jnccn.org/view/journals/jnccn/14/2/article-p196.xml"
      ]
    },
    "Encounter with oncologist to discuss next steps": {
      "type": "Encounter",
      "encounter_class": "ambulatory",
      "reason": "DLBCL_Condition",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 223484005,
          "display": "Discussion about treatment (procedure)"
        }
      ],
      "conditional_transition": [
        {
          "transition": "Clinical_Trial",
          "condition": {
            "condition_type": "PriorState",
            "name": "Clinical Trial"
          }
        },
        {
          "transition": "Complete current R-CHOP Treatment"
        }
      ]
    },
    "Clinical_Trial": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 110465008,
          "display": "Clinical trial (procedure)"
        }
      ],
      "direct_transition": "End_Encounter_with_Oncologist_to_Discuss_Next_Steps",
      "remarks": [
        "https://jnccn.org/view/journals/jnccn/14/2/article-p196.xml"
      ]
    },
    "Complete R-CHOP (total of 6 weeks)": {
      "type": "Delay",
      "range": {
        "low": 6,
        "high": 12,
        "unit": "weeks"
      },
      "direct_transition": "Encounter for end-of-treatment re-staging",
      "remarks": [
        "https://jnccn.org/view/journals/jnccn/14/2/article-p196.xml"
      ]
    },
    "End Encounter with oncologist to discuss next steps": {
      "type": "EncounterEnd",
      "direct_transition": "Complete R-CHOP (total of 6 weeks)"
    },
    "Encounter for end-of-treatment re-staging": {
      "type": "Encounter",
      "encounter_class": "ambulatory",
      "reason": "DLBCL_Condition",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 185389009,
          "display": "Follow-up visit (procedure)"
        }
      ],
      "direct_transition": "End-of-treatment PET-CT scan re-staging"
    },
    "End-of-treatment PET-CT scan re-staging": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 450436003,
          "display": "Positron emission tomography with computed tomography (procedure)"
        }
      ],
      "duration": {
        "low": 30,
        "high": 60,
        "unit": "minutes"
      },
      "direct_transition": "End the end-of-treatment re-staging encounter",
      "remarks": [
        "https://jnccn.org/view/journals/jnccn/14/2/article-p196.xml"
      ]
    },
    "Patient is in remission": {
      "type": "Observation",
      "category": "procedure",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "88040-1",
          "display": "Response to cancer treatment"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 359746009,
        "display": "Patient's condition stable (finding)"
      },
      "direct_transition": "Interim before check-up"
    },
    "Patient worsens": {
      "type": "Observation",
      "category": "procedure",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "88040-1",
          "display": "Response to cancer treatment"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 271299001,
        "display": "Patient's condition worsened (finding)"
      },
      "direct_transition": "Worsened"
    },
    "Check-up": {
      "type": "Encounter",
      "encounter_class": "ambulatory",
      "reason": "DLBCL_Condition",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 185349003,
          "display": "Encounter for check up (procedure)"
        }
      ],
      "direct_transition": "Blood tests"
    },
    "Patient stays in remission": {
      "type": "Observation",
      "category": "procedure",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "88040-1",
          "display": "Response to cancer treatment"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 359746009,
        "display": "Patient's condition stable (finding)"
      },
      "direct_transition": "Remission"
    },
    "Blood tests": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 396550006,
          "display": "Blood test (procedure)"
        }
      ],
      "duration": {
        "low": 10,
        "high": 15,
        "unit": "minutes"
      },
      "remarks": [
        "https://jnccn.org/view/journals/jnccn/14/2/article-p196.xml",
        "",
        "Distribution corresponds to conversation with Dr. Wood stating that around 50% of patients will go into remission after first-line therapy "
      ],
      "complex_transition": [
        {
          "condition": {
            "condition_type": "Attribute",
            "attribute": "DLBCL_Survival",
            "operator": "==",
            "value": "No"
          },
          "distributions": [
            {
              "transition": "Patient relapses",
              "distribution": 1
            }
          ]
        },
        {
          "distributions": [
            {
              "transition": "Patient stays in remission",
              "distribution": 0.7
            },
            {
              "transition": "Patient relapses",
              "distribution": 0.3
            }
          ],
          "condition": {
            "condition_type": "Attribute",
            "attribute": "DLBCL_Survival",
            "operator": "==",
            "value": "Yes"
          }
        }
      ]
    },
    "Patient relapses": {
      "type": "Observation",
      "category": "procedure",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "88040-1",
          "display": "Response to cancer treatment"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 271299001,
        "display": "Patient's condition worsened (finding)"
      },
      "direct_transition": "Worsened"
    },
    "Complete 2-4 cycles before interim re-staging": {
      "type": "Delay",
      "range": {
        "low": 6,
        "high": 12,
        "unit": "weeks"
      },
      "direct_transition": "End R-CHOP Drugs",
      "remarks": [
        "https://jnccn.org/view/journals/jnccn/14/2/article-p196.xml"
      ]
    },
    "End the end-of-treatment re-staging encounter": {
      "type": "EncounterEnd",
      "distributed_transition": [
        {
          "transition": "Patient is in remission",
          "distribution": 0.9
        },
        {
          "transition": "Patient worsens",
          "distribution": 0.1
        }
      ]
    },
    "End of check-up": {
      "type": "EncounterEnd",
      "direct_transition": "Terminal"
    },
    "Remission": {
      "type": "SetAttribute",
      "attribute": "Treatment_1_Outcome",
      "direct_transition": "End of check-up",
      "value": "Remission"
    },
    "Worsened": {
      "type": "SetAttribute",
      "attribute": "Treatment_1_Outcome",
      "direct_transition": "End of check-up",
      "value": "Worsened"
    },
    "Length of clinical trial": {
      "type": "Delay",
      "range": {
        "low": 6,
        "high": 24,
        "unit": "months"
      },
      "direct_transition": "Encounter for end-of-treatment re-staging",
      "remarks": [
        "https://jnccn.org/view/journals/jnccn/14/2/article-p196.xml"
      ]
    },
    "End_Encounter_with_Oncologist_to_Discuss_Next_Steps": {
      "type": "EncounterEnd",
      "direct_transition": "Length of clinical trial"
    },
    "Interim before check-up": {
      "type": "Delay",
      "direct_transition": "Check-up",
      "range": {
        "low": 3,
        "high": 18,
        "unit": "months"
      },
      "remarks": [
        "Based upon conversation with Dr. Wood stating that relapse can take months to years - it is not immediate."
      ]
    },
    "Complete current R-CHOP Treatment": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 306805000,
          "display": "Recommendation to continue with treatment (procedure)"
        }
      ],
      "direct_transition": "End Encounter with oncologist to discuss next steps",
      "remarks": [
        "https://jnccn.org/view/journals/jnccn/14/2/article-p196.xml"
      ]
    },
    "R-CHOP Drugs": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": 1657862,
          "display": "10 ML rituximab 10 MG/ML Injection"
        },
        {
          "system": "RxNorm",
          "code": 1734919,
          "display": "cyclophosphamide 1000 MG Injection"
        },
        {
          "system": "RxNorm",
          "code": 1790099,
          "display": "10 ML doxorubicin hydrochloride 2 MG/ML Injection"
        },
        {
          "system": "RxNorm",
          "code": 1863343,
          "display": "1 ML vincristine sulfate 1 MG/ML Injection"
        },
        {
          "system": "RxNorm",
          "code": 198144,
          "display": "prednisone 1 MG Oral Tablet"
        }
      ],
      "direct_transition": "End encounter for first-line therapy",
      "assign_to_attribute": "first_line_drug_regimen",
      "remarks": [
        "https://www.cancer.org/cancer/non-hodgkin-lymphoma/treating/b-cell-lymphoma.html"
      ]
    },
    "End encounter for first-line therapy": {
      "type": "EncounterEnd",
      "direct_transition": "Complete 2-4 cycles before interim re-staging"
    },

    "End R-CHOP Drugs": {
      "type": "MedicationEnd",
      "referenced_by_attribute": "first_line_drug_regimen",
      "direct_transition": "Wait for restaging"
    },
    "Wait for restaging": {
      "type": "Delay",
      "range": {
        "low": 1,
        "high": 7,
        "unit": "days"
      },
      "direct_transition": "Follow-up with oncologist for re-staging"
    }
  }
}