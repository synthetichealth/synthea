{
  "name": "DLBCL_Stage_I_II_Treatment_Round_One",
  "remarks": [
    "Stage I/II DLBCL treatment module implementing 3-6 cycles of R-CHOP followed by PET-CT restaging."
  ],
  "states": {
    "Initial": {
      "type": "Initial",
      "direct_transition": "First-line chemoimmunotherapy encounter"
    },
    
    "3 to 6 cycles of R-CHOP": {
      "type": "Delay",
      "range": {
        "low": 9,
        "high": 18,
        "unit": "weeks"
      },
      "direct_transition": "End R-CHOP Drugs",
      "remarks": [
        "https://lymphoma.org/aboutlymphoma/nhl/dlbcl/dlbcltreatment/"
      ]
    },
    "Wait for PET-CT Scan Follow-up": {
      "type": "Delay",
      "range": {
        "low": 1,
        "high": 7,
        "unit": "days"
      },
      "direct_transition": "PET-CT Scan Encounter"
    },
    "PET-CT Scan Follow-up": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 450436003,
          "display": "Positron emission tomography with computed tomography (procedure)"
        }
      ],
      "duration": {
        "low": 30,
        "high": 60,
        "unit": "minutes"
      },
      "direct_transition": "End PET-CT Scan Encounter",
      "remarks": [
        "https://www.cancer.org/cancer/non-hodgkin-lymphoma/treating/b-cell-lymphoma.html",
        "\"After several cycles, doctors may get imaging tests such as a PET/CT scan to see how well treatment is working\""
      ]
    },
    "Patient worsened after treatment": {
      "type": "Observation",
      "category": "procedure",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "88040-1",
          "display": "Response to cancer treatment"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 271299001,
        "display": "Patient's condition worsened (finding)"
      },
      "direct_transition": "Worsened"
    },
    "Patient is in remission after treatment": {
      "type": "Observation",
      "category": "procedure",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "88040-1",
          "display": "Response to cancer treatment"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 268910001,
        "display": "Patient condition improved (finding)"
      },
      "direct_transition": "Set Remission Outcome"
    },
    "Set Remission Outcome": {
      "type": "SetAttribute",
      "attribute": "Treatment_1_Outcome",
      "value": "Remission",
      "direct_transition": "Check-ups"
    },
    "Check-ups": {
      "type": "Delay",
      "range": {
        "low": 3,
        "high": 18,
        "unit": "months"
      },
      "remarks": [
        "Check-ups every 3 to 6 months for 5 years",
        "https://jnccn.org/view/journals/jnccn/17/6/article-p650.xml",
        "",
        "Also based upon conversation with Dr. Wood stating that relapse can take months to years - it is not immediate."
      ],
      "direct_transition": "Check-Up"
    },
    "Blood tests": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 396550006,
          "display": "Blood test (procedure)"
        }
      ],
      "duration": {
        "low": 10,
        "high": 15,
        "unit": "minutes"
      },
      "complex_transition": [
        {
          "condition": {
            "condition_type": "Attribute",
            "attribute": "DLBCL_Survival",
            "operator": "==",
            "value": "No"
          },
          "distributions": [
            {
              "transition": "Patient relapses",
              "distribution": 1
            }
          ]
        },
        {
          "condition": {
            "condition_type": "Attribute",
            "attribute": "DLBCL_Survival",
            "operator": "==",
            "value": "Yes"
          },
          "distributions": [
            {
              "transition": "Patient stays in remission",
              "distribution": 0.8
            },
            {
              "transition": "Patient relapses",
              "distribution": 0.2
            }
          ]
        }
      ],
      "remarks": [
        "Around half of patients go into full remission after first-line therapy, according to Dr. Perales. 60% remission is adjusted for a slightly increased remission rate for lower-stage patients",
        ""
      ]
    },
    "Patient relapses": {
      "type": "Observation",
      "category": "procedure",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "88040-1",
          "display": "Response to cancer treatment"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 271299001,
        "display": "Patient's condition worsened (finding)"
      },
      "direct_transition": "Worsened"
    },
    "Patient stays in remission": {
      "type": "Observation",
      "category": "procedure",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "88040-1",
          "display": "Response to cancer treatment"
        }
      ],
      "direct_transition": "Remission",
      "value_code": {
        "system": "SNOMED-CT",
        "code": 359746009,
        "display": "Patient's condition stable (finding)"
      }
    },
    "Terminal": {
      "type": "Terminal"
    },
    "First-line chemoimmunotherapy encounter": {
      "type": "Encounter",
      "encounter_class": "ambulatory",
      "reason": "DLBCL_Condition",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 185347001,
          "display": "Encounter for problem (procedure)"
        }
      ],
      "direct_transition": "R-CHOP Drugs"
    },
    "End of first-line chemoimmunotherapy encounter": {
      "type": "EncounterEnd",
      "direct_transition": "3 to 6 cycles of R-CHOP"
    },
    "PET-CT Scan Encounter": {
      "type": "Encounter",
      "encounter_class": "ambulatory",
      "reason": "DLBCL_Condition",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 185389009,
          "display": "Follow-up visit (procedure)"
        }
      ],
      "direct_transition": "PET-CT Scan Follow-up"
    },
    "End PET-CT Scan Encounter": {
      "type": "EncounterEnd",
      "distributed_transition": [
        {
          "transition": "Patient worsened after treatment",
          "distribution": 0.1
        },
        {
          "transition": "Patient is in remission after treatment",
          "distribution": 0.9
        }
      ]
    },
    "Worsened": {
      "type": "SetAttribute",
      "attribute": "Treatment_1_Outcome",
      "direct_transition": "End Check-Up",
      "value": "Worsened"
    },
    "Remission": {
      "type": "SetAttribute",
      "attribute": "Treatment_1_Outcome",
      "direct_transition": "End Check-Up",
      "value": "Remission"
    },
    "Check-Up": {
      "type": "Encounter",
      "encounter_class": "ambulatory",
      "reason": "DLBCL_Condition",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 185349003,
          "display": "Encounter for check up (procedure)"
        }
      ],
      "direct_transition": "Blood tests"
    },
    "End Check-Up": {
      "type": "EncounterEnd",
      "direct_transition": "Terminal"
    },
    "R-CHOP Drugs": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": 1657862,
          "display": "10 ML rituximab 10 MG/ML Injection"
        },
        {
          "system": "RxNorm",
          "code": 1734919,
          "display": "cyclophosphamide 1000 MG Injection"
        },
        {
          "system": "RxNorm",
          "code": 1790099,
          "display": "10 ML doxorubicin hydrochloride 2 MG/ML Injection"
        },
        {
          "system": "RxNorm",
          "code": 1863343,
          "display": "1 ML vincristine sulfate 1 MG/ML Injection"
        },
        {
          "system": "RxNorm",
          "code": 198144,
          "display": "prednisone 1 MG Oral Tablet"
        }
      ],
      "direct_transition": "End of first-line chemoimmunotherapy encounter",
      "assign_to_attribute": "first_line_drug_regimen",
      "remarks": [
        "https://www.cancer.gov/types/lymphoma/hp/adult-nhl-treatment-pdq#_85_toc"
      ],
      "chronic": false
    },
    "End R-CHOP Drugs": {
      "type": "MedicationEnd",
      "referenced_by_attribute": "first_line_drug_regimen",
      "direct_transition": "Wait for PET-CT Scan Follow-up"
    }
  }
}