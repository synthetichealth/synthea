{
  "name": "Breast_cancer",
  "remarks": [
    "A blank module"
  ],
  "states": {
    "Initial": {
      "type": "Initial",
      "conditional_transition": [
        {
          "transition": "Female",
          "condition": {
            "condition_type": "Gender",
            "gender": "F"
          }
        },
        {
          "transition": "Male",
          "condition": {
            "condition_type": "Gender",
            "gender": "M"
          }
        }
      ]
    },
    "Terminal": {
      "type": "Terminal"
    },
    "Female": {
      "type": "Simple",
      "remarks": [
        "https://ww5.komen.org/BreastCancer/RaceampEthnicity.html",
        "https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4127601/pdf/WJCO-5-283.pdf"
      ],
      "complex_transition": [
        {
          "condition": {
            "condition_type": "Race",
            "race": "White"
          },
          "distributions": [
            {
              "transition": "Pre_breastCancer",
              "distribution": 0.13
            },
            {
              "transition": "Terminal",
              "distribution": 0.8700000000000001
            }
          ]
        },
        {
          "distributions": [
            {
              "transition": "Pre_breastCancer",
              "distribution": 0.12
            },
            {
              "transition": "Terminal",
              "distribution": 0.88
            }
          ],
          "condition": {
            "condition_type": "Race",
            "race": "Black"
          }
        },
        {
          "distributions": [
            {
              "transition": "Pre_breastCancer",
              "distribution": 0.11
            },
            {
              "transition": "Terminal",
              "distribution": 0.89
            }
          ],
          "condition": {
            "condition_type": "Race",
            "race": "Asian"
          }
        },
        {
          "distributions": [
            {
              "transition": "Pre_breastCancer",
              "distribution": 0.1
            },
            {
              "transition": "Terminal",
              "distribution": 0.9
            }
          ],
          "condition": {
            "condition_type": "Race",
            "race": "Hispanic"
          }
        },
        {
          "distributions": [
            {
              "transition": "Pre_breastCancer",
              "distribution": 0.08
            },
            {
              "transition": "Terminal",
              "distribution": 0.92
            }
          ],
          "condition": {
            "condition_type": "Race",
            "race": "Native"
          }
        },
        {
          "distributions": [
            {
              "transition": "Pre_breastCancer",
              "distribution": 0.125
            },
            {
              "transition": "Terminal",
              "distribution": 0.875
            }
          ]
        }
      ]
    },
    "Male": {
      "type": "Simple",
      "remarks": [
        "https://www.breastcancer.org/symptoms/types/male_bc",
        "https://www.webmd.com/breast-cancer/breast-cancer-men"
      ],
      "distributed_transition": [
        {
          "transition": "Terminal",
          "distribution": 0.99
        },
        {
          "transition": "60 <= Age <=69",
          "distribution": 0.01
        }
      ]
    },
    "Pre_breastCancer": {
      "type": "Simple",
      "distributed_transition": [
        {
          "transition": "Age < 39",
          "distribution": 0.0454
        },
        {
          "transition": "39 <= Age < 59",
          "distribution": 0.3549
        },
        {
          "transition": "60 <= Age <=69",
          "distribution": 0.28800000000000003
        },
        {
          "transition": "69 < Age <= 85",
          "distribution": 0.2591
        },
        {
          "transition": "85 < Age",
          "distribution": 0.0526
        }
      ],
      "remarks": [
        "https://gis.cdc.gov/Cancer/USCS/DataViz.html",
        "https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4127601/pdf/WJCO-5-283.pdf"
      ]
    },
    "Age < 39": {
      "type": "Delay",
      "remarks": [
        "https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4127601/pdf/WJCO-5-283.pdf"
      ],
      "range": {
        "low": 0,
        "high": 39,
        "unit": "years"
      },
      "direct_transition": "BreastCancer_Symptom1"
    },
    "39 <= Age < 59": {
      "type": "Delay",
      "range": {
        "low": 39,
        "high": 59,
        "unit": "years"
      },
      "remarks": [
        "https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4127601/pdf/WJCO-5-283.pdf"
      ],
      "distributed_transition": [
        {
          "transition": "Regular Mammogram Visit",
          "distribution": 0.63
        },
        {
          "transition": "BreastCancer_Symptom1",
          "distribution": 0.3700000000000001
        }
      ]
    },
    "60 <= Age <=69": {
      "type": "Delay",
      "range": {
        "low": 60,
        "high": 69,
        "unit": "years"
      },
      "remarks": [
        "https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4127601/pdf/WJCO-5-283.pdf"
      ],
      "complex_transition": [
        {
          "condition": {
            "condition_type": "Gender",
            "gender": "M"
          },
          "distributions": [
            {
              "transition": "BreastCancer_Symptom1",
              "distribution": 1
            }
          ]
        },
        {
          "distributions": [
            {
              "transition": "Regular Mammogram Visit",
              "distribution": 0.7
            },
            {
              "transition": "BreastCancer_Symptom1",
              "distribution": 0.3
            }
          ]
        }
      ]
    },
    "BreastCancer_Symptom1": {
      "type": "Symptom",
      "symptom": "Lump/mass",
      "cause": "",
      "probability": 0.83,
      "direct_transition": "BreastCancer_Symptom2",
      "remarks": [
        "https://www.cancer.org/cancer/breast-cancer/about/breast-cancer-signs-and-symptoms.html",
        "https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5482318/"
      ],
      "range": {
        "low": 0,
        "high": 5
      }
    },
    "BreastCancer_Symptom2": {
      "type": "Symptom",
      "symptom": "Swelling",
      "cause": "",
      "probability": 0.006,
      "direct_transition": "BreastCancer_Symptom3",
      "remarks": [
        "https://www.cancer.org/cancer/breast-cancer/about/breast-cancer-signs-and-symptoms.html",
        "https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5482318/"
      ],
      "range": {
        "low": 20,
        "high": 30
      }
    },
    "BreastCancer_Symptom4": {
      "type": "Symptom",
      "symptom": "Breast/Nipple Pain",
      "cause": "",
      "probability": 0.06,
      "direct_transition": "BreastCancer_Symptom5",
      "remarks": [
        "https://www.cancer.org/cancer/breast-cancer/about/breast-cancer-signs-and-symptoms.html",
        "https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5482318/"
      ],
      "range": {
        "low": 20,
        "high": 60
      }
    },
    "BreastCancer_Symptom3": {
      "type": "Symptom",
      "symptom": "Skin Irritation/Dimpling",
      "cause": "",
      "probability": 0.02,
      "direct_transition": "BreastCancer_Symptom4",
      "remarks": [
        "https://www.cancer.org/cancer/breast-cancer/about/breast-cancer-signs-and-symptoms.html",
        "https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5482318/"
      ],
      "range": {
        "low": 0,
        "high": 35
      }
    },
    "BreastCancer_Symptom5": {
      "type": "Symptom",
      "symptom": "Nipple Retraction",
      "cause": "",
      "probability": 0.07,
      "direct_transition": "BreastCancer_Symptom6",
      "remarks": [
        "https://www.cancer.org/cancer/breast-cancer/about/breast-cancer-signs-and-symptoms.html"
      ],
      "range": {
        "low": 0,
        "high": 10
      }
    },
    "BreastCancer_Symptom6": {
      "type": "Symptom",
      "symptom": "Nipple Discharge",
      "cause": "",
      "probability": 0.1,
      "direct_transition": "Breast Cancer",
      "remarks": [
        "https://www.cancer.org/cancer/breast-cancer/about/breast-cancer-signs-and-symptoms.html"
      ],
      "range": {
        "low": 0,
        "high": 5
      }
    },
    "Breast Cancer": {
      "type": "ConditionOnset",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 254837009,
          "display": "Malignant neoplasm of breast (disorder)"
        }
      ],
      "direct_transition": "Time Before Initial Doctor Visit",
      "target_encounter": "Breast Cancer Encounter"
    },
    "Mammogram": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 241055006,
          "display": "Mammogram - symptomatic (procedure)"
        }
      ],
      "duration": {
        "low": 15,
        "high": 25,
        "unit": "minutes"
      },
      "distributed_transition": [
        {
          "transition": "MRI",
          "distribution": 0.25
        },
        {
          "transition": "Ultrasound",
          "distribution": 0.75
        }
      ]
    },
    "Ultrasound": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 1571000087109,
          "display": "Ultrasonography of bilateral breasts (procedure)"
        }
      ],
      "duration": {
        "low": 15,
        "high": 30,
        "unit": "minutes"
      },
      "direct_transition": "Switch from Primary Care Physician to Oncologist"
    },
    "Breast Cancer Encounter": {
      "type": "Encounter",
      "encounter_class": "emergency",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 185345009,
          "display": "Encounter for symptom (procedure)"
        }
      ],
      "direct_transition": "Mammogram"
    },
    "Switch from Primary Care Physician to Oncologist": {
      "type": "EncounterEnd",
      "direct_transition": "Delay Before Oncologist Biopsy"
    },
    "MRI": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 241615005,
          "display": "Magnetic resonance imaging of breast (procedure)"
        }
      ],
      "duration": {
        "low": 45,
        "high": 90,
        "unit": "minutes"
      },
      "direct_transition": "Switch from Primary Care Physician to Oncologist"
    },
    "TNM_Staging_Visit": {
      "type": "Encounter",
      "encounter_class": "inpatient",
      "reason": "",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 122548005,
          "display": "Biopsy of breast (procedure)"
        }
      ],
      "direct_transition": "Breast Biopsy"
    },
    "Diagnose_TNM_Markers": {
      "type": "CallSubmodule",
      "submodule": "breast_cancer/tnm_diagnosis",
      "direct_transition": "Diagnose Hormone Receptors"
    },
    "Diagnose Hormone Receptors": {
      "type": "CallSubmodule",
      "submodule": "breast_cancer/hormone_diagnosis",
      "direct_transition": "Staging"
    },
    "Staging": {
      "type": "Simple",
      "conditional_transition": [
        {
          "transition": "Stage IV",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "M",
            "operator": "==",
            "value": "M1"
          }
        },
        {
          "transition": "Nonmetastatic",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "M",
            "operator": "==",
            "value": "M0"
          }
        }
      ]
    },
    "Stage IV": {
      "type": "Observation",
      "category": "laboratory",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "21908-9",
          "display": "Stage group.clinical Cancer"
        }
      ],
      "direct_transition": "Delay for Analysis of Possible Treatments",
      "value_code": {
        "system": "SNOMED-CT",
        "code": 2640006,
        "display": "Clinical stage IV (finding)"
      }
    },
    "Nonmetastatic": {
      "type": "Simple",
      "conditional_transition": [
        {
          "transition": "IIIC",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "N",
            "operator": "==",
            "value": "N3"
          }
        },
        {
          "transition": "IIIB",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "T",
            "operator": "==",
            "value": "T4"
          }
        },
        {
          "transition": "IIIA",
          "condition": {
            "condition_type": "Or",
            "conditions": [
              {
                "condition_type": "Attribute",
                "attribute": "N",
                "operator": "==",
                "value": "N2"
              },
              {
                "condition_type": "And",
                "conditions": [
                  {
                    "condition_type": "Attribute",
                    "attribute": "N",
                    "operator": "==",
                    "value": "N1"
                  },
                  {
                    "condition_type": "Attribute",
                    "attribute": "T",
                    "operator": "==",
                    "value": "T3"
                  }
                ]
              }
            ]
          }
        },
        {
          "transition": "Nonaggressive"
        }
      ]
    },
    "Stage IV Treatment": {
      "type": "Simple",
      "distributed_transition": [
        {
          "transition": "Treatment Successful",
          "distribution": 0.22
        },
        {
          "transition": "Treatment Unsuccessful",
          "distribution": 0.78
        }
      ],
      "remarks": [
        "https://www.medicalnewstoday.com/articles/316867.php"
      ]
    },
    "Stage III": {
      "type": "Observation",
      "category": "laboratory",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "21908-9",
          "display": "Stage group.clinical Cancer"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 50283003,
        "display": "Clinical stage III (finding)"
      },
      "direct_transition": "Delay for Analysis of Possible Treatments"
    },
    "Stage I": {
      "type": "Observation",
      "category": "laboratory",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "21908-9",
          "display": "Stage group.clinical Cancer"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 13104003,
        "display": "Clinical stage I (finding)"
      },
      "direct_transition": "Delay for Analysis of Possible Treatments"
    },
    "IIIB": {
      "type": "Observation",
      "category": "laboratory",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "21908-9",
          "display": "Stage group.clinical Cancer"
        }
      ],
      "direct_transition": "Stage III",
      "value_code": {
        "system": "SNOMED-CT",
        "code": 64062008,
        "display": "Clinical stage III B (finding)"
      }
    },
    "IIIA": {
      "type": "Observation",
      "category": "laboratory",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "21908-9",
          "display": "Stage group.clinical Cancer"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 73082003,
        "display": "Clinical stage III A (finding)"
      },
      "direct_transition": "Stage III"
    },
    "Stage III Treatment": {
      "type": "Simple",
      "distributed_transition": [
        {
          "transition": "Treatment Successful",
          "distribution": 0.72
        },
        {
          "transition": "Treatment Unsuccessful",
          "distribution": 0.28
        }
      ],
      "remarks": [
        "https://www.medicalnewstoday.com/articles/316867.php"
      ]
    },
    "Nonaggressive": {
      "type": "Simple",
      "conditional_transition": [
        {
          "transition": "IIB",
          "condition": {
            "condition_type": "Or",
            "conditions": [
              {
                "condition_type": "Attribute",
                "attribute": "T",
                "operator": "==",
                "value": "T3"
              },
              {
                "condition_type": "And",
                "conditions": [
                  {
                    "condition_type": "Attribute",
                    "attribute": "T",
                    "operator": "==",
                    "value": "T2"
                  },
                  {
                    "condition_type": "Attribute",
                    "attribute": "N",
                    "operator": "==",
                    "value": "N1"
                  }
                ]
              }
            ]
          }
        },
        {
          "transition": "IIA",
          "condition": {
            "condition_type": "Or",
            "conditions": [
              {
                "condition_type": "Attribute",
                "attribute": "T",
                "operator": "==",
                "value": "T2"
              },
              {
                "condition_type": "And",
                "conditions": [
                  {
                    "condition_type": "Attribute",
                    "attribute": "T",
                    "operator": "==",
                    "value": "T1"
                  },
                  {
                    "condition_type": "Attribute",
                    "attribute": "N",
                    "operator": "==",
                    "value": "N1"
                  }
                ]
              }
            ]
          }
        },
        {
          "transition": "Early_Stage"
        }
      ]
    },
    "IIIC": {
      "type": "Observation",
      "category": "laboratory",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "21908-9",
          "display": "Stage group.clinical Cancer"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 48105005,
        "display": "Clinical stage III C (finding)"
      },
      "direct_transition": "Stage III"
    },
    "IIB": {
      "type": "Observation",
      "category": "laboratory",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "21908-9",
          "display": "Stage group.clinical Cancer"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 17816005,
        "display": "Clinical stage II B (finding)"
      },
      "direct_transition": "Stage II"
    },
    "IIA": {
      "type": "Observation",
      "category": "laboratory",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "21908-9",
          "display": "Stage group.clinical Cancer"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 17816005,
        "display": "Clinical stage II A (finding)"
      },
      "direct_transition": "Stage II"
    },
    "IA": {
      "type": "Observation",
      "category": "laboratory",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "21908-9",
          "display": "Stage group.clinical Cancer"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 46333007,
        "display": "Clinical stage I A (finding)"
      },
      "direct_transition": "Stage I"
    },
    "IB": {
      "type": "Observation",
      "category": "laboratory",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "21908-9",
          "display": "Stage group.clinical Cancer"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 786005,
        "display": "Clinical stage I B (finding)"
      },
      "direct_transition": "Stage I"
    },
    "Early_Stage": {
      "type": "Simple",
      "conditional_transition": [
        {
          "transition": "IA",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "T",
            "operator": "==",
            "value": "T1"
          }
        },
        {
          "transition": "IB",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "N",
            "operator": "==",
            "value": "N1"
          }
        }
      ]
    },
    "Stage II": {
      "type": "Observation",
      "category": "laboratory",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "21908-9",
          "display": "Stage group.clinical Cancer"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 60333009,
        "display": "Clinical stage II (finding)"
      },
      "direct_transition": "Delay for Analysis of Possible Treatments"
    },
    "Stage II Treatment": {
      "type": "Simple",
      "distributed_transition": [
        {
          "transition": "Treatment Successful",
          "distribution": 0.93
        },
        {
          "transition": "Treatment Unsuccessful",
          "distribution": 0.07
        }
      ],
      "remarks": [
        "https://www.medicalnewstoday.com/articles/316867.php"
      ]
    },
    "Stage 0 Treatment": {
      "type": "Simple",
      "distributed_transition": [
        {
          "transition": "Treatment Successful",
          "distribution": 0.99
        },
        {
          "transition": "Treatment Unsuccessful",
          "distribution": 0.01
        }
      ],
      "remarks": [
        "https://www.medicalnewstoday.com/articles/316867.php"
      ]
    },
    "End Initial Follow-Up Doctor Visit": {
      "type": "EncounterEnd",
      "direct_transition": "Initial Follow-Up Counter"
    },
    "4 Months between Initial Follow-Ups": {
      "type": "Delay",
      "exact": {
        "quantity": 4,
        "unit": "months"
      },
      "direct_transition": "Initial Follow-Up Doctor Visit"
    },
    "Initial Follow-Up Counter": {
      "type": "Counter",
      "attribute": "init_followup_counter",
      "action": "increment",
      "conditional_transition": [
        {
          "transition": "4 Months between Initial Follow-Ups",
          "condition": {
            "condition_type": "And",
            "conditions": [
              {
                "condition_type": "Attribute",
                "attribute": "init_followup_counter",
                "operator": "<",
                "value": 3
              },
              {
                "condition_type": "Attribute",
                "attribute": "years_after_treatment",
                "operator": "<",
                "value": 5
              }
            ]
          }
        },
        {
          "transition": "Mammogram Followup"
        }
      ]
    },
    "Initialize Initial Follow-Up Counter": {
      "type": "SetAttribute",
      "attribute": "init_followup_counter",
      "direct_transition": "Initialize Years After Treatment Counter",
      "value": 0
    },
    "Mammogram Followup": {
      "type": "Simple",
      "conditional_transition": [
        {
          "transition": "Mammogram Followup Visit",
          "condition": {
            "condition_type": "Observation",
            "codes": [
              {
                "system": "LOINC",
                "code": "21908-9",
                "display": "Stage group.clinical Cancer"
              }
            ],
            "operator": "!=",
            "value_code": {
              "system": "SNOMED-CT",
              "code": 786005,
              "display": "Clinical stage I B (finding)"
            }
          }
        },
        {
          "transition": "Pelvic Followup"
        }
      ]
    },
    "Post-Surgery Mammogram": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 71651007,
          "display": "Mammography (procedure)"
        }
      ],
      "duration": {
        "low": 15,
        "high": 25,
        "unit": "minutes"
      },
      "direct_transition": "End Mammogram Followup Visit"
    },
    "Mammogram Followup Visit": {
      "type": "Encounter",
      "reason": "",
      "direct_transition": "Post-Surgery Mammogram",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 71651007,
          "display": "Mammography (procedure)"
        }
      ],
      "encounter_class": "inpatient"
    },
    "End Mammogram Followup Visit": {
      "type": "EncounterEnd",
      "direct_transition": "Pelvic Followup"
    },
    "Pelvic Followup": {
      "type": "Simple",
      "conditional_transition": [
        {
          "transition": "Gynecologist Visit",
          "condition": {
            "condition_type": "Or",
            "conditions": [
              {
                "condition_type": "Active Medication",
                "codes": [
                  {
                    "system": "RxNorm",
                    "code": 10324,
                    "display": "Tamoxifen"
                  }
                ]
              },
              {
                "condition_type": "Active Medication",
                "codes": [
                  {
                    "system": "RxNorm",
                    "code": 38409,
                    "display": "Toremifene"
                  }
                ]
              }
            ]
          }
        },
        {
          "transition": "Gynecologist Visit",
          "condition": {
            "condition_type": "Symptom",
            "symptom": "Unusual Vaginal Bleeding",
            "operator": ">",
            "value": 0
          }
        },
        {
          "transition": "Bone Followup"
        }
      ],
      "remarks": [
        "https://www.cancer.org/cancer/breast-cancer/living-as-a-breast-cancer-survivor/follow-up-care-after-breast-cancer-treatment.html",
        "https://www.hopkinsmedicine.org/kimmel_cancer_center/centers/breast_cancer_program/treatment_and_services/survivorship/follow_up/pelvic_exams.html"
      ]
    },
    "Gynecologist Visit": {
      "type": "Encounter",
      "encounter_class": "inpatient",
      "reason": "",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 310061009,
          "display": "Gynecology service (qualifier value)"
        }
      ],
      "direct_transition": "Pelvic Exam"
    },
    "Bone Followup": {
      "type": "Simple",
      "conditional_transition": [
        {
          "transition": "Bone Exam Visit",
          "condition": {
            "condition_type": "Or",
            "conditions": [
              {
                "condition_type": "Active Medication",
                "codes": [
                  {
                    "system": "RxNorm",
                    "code": 258494,
                    "display": "exemestane"
                  }
                ]
              },
              {
                "condition_type": "Or",
                "conditions": [
                  {
                    "condition_type": "Active Medication",
                    "codes": [
                      {
                        "system": "RxNorm",
                        "code": 84857,
                        "display": "anastrozole"
                      }
                    ]
                  },
                  {
                    "condition_type": "Active Medication",
                    "codes": [
                      {
                        "system": "RxNorm",
                        "code": 72965,
                        "display": "letrozole"
                      }
                    ]
                  }
                ]
              }
            ]
          }
        },
        {
          "transition": "Bone Exam Visit",
          "condition": {
            "condition_type": "Symptom",
            "symptom": "Early menopause due to treatment",
            "operator": ">",
            "value": 0
          }
        },
        {
          "transition": "Reset Initial Follow-Up Counter"
        }
      ],
      "remarks": [
        "https://www.cancer.org/cancer/breast-cancer/living-as-a-breast-cancer-survivor/follow-up-care-after-breast-cancer-treatment.html"
      ]
    },
    "End Gynecologist Visit": {
      "type": "EncounterEnd",
      "direct_transition": "Bone Followup"
    },
    "Pelvic Exam": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 35025007,
          "display": "Manual pelvic examination (procedure)"
        }
      ],
      "duration": {
        "low": 10,
        "high": 15,
        "unit": "minutes"
      },
      "direct_transition": "Pap Smear",
      "remarks": [
        "https://www.webmd.com/women/guide/pelvic-examination#1"
      ]
    },
    "Pap Smear": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 90226004,
          "display": "Cytopathology procedure, preparation of smear, genital source (procedure)"
        }
      ],
      "duration": {
        "low": 10,
        "high": 20,
        "unit": "minutes"
      },
      "direct_transition": "End Gynecologist Visit",
      "remarks": [
        "https://www.hopkinsmedicine.org/kimmel_cancer_center/centers/breast_cancer_program/treatment_and_services/survivorship/follow_up/pelvic_exams.html",
        "https://www.webmd.com/breast-cancer/guide/breast-cancer-follow-up-care"
      ]
    },
    "Bone Exam": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 312681000,
          "display": "Bone density scan (procedure)"
        }
      ],
      "duration": {
        "low": 10,
        "high": 30,
        "unit": "minutes"
      },
      "direct_transition": "End Bone Exam Visit",
      "remarks": [
        "https://www.mayoclinic.org/tests-procedures/bone-density-test/about/pac-20385273"
      ]
    },
    "Bone Exam Visit": {
      "type": "Encounter",
      "encounter_class": "ambulatory",
      "reason": "",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 312681000,
          "display": "SN   Bone density scan (procedure)"
        }
      ],
      "direct_transition": "Bone Exam"
    },
    "End Bone Exam Visit": {
      "type": "EncounterEnd",
      "direct_transition": "Reset Initial Follow-Up Counter"
    },
    "Years After Treatment Counter": {
      "type": "Counter",
      "attribute": "years_after_treatment",
      "action": "increment",
      "conditional_transition": [
        {
          "transition": "Death",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "years_left",
            "operator": "<",
            "value": 1
          }
        },
        {
          "transition": "4 Months between Initial Follow-Ups",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "years_after_treatment",
            "operator": "<",
            "value": 5
          }
        },
        {
          "transition": "1 Year Passed"
        }
      ]
    },
    "Initialize Years After Treatment Counter": {
      "type": "SetAttribute",
      "attribute": "years_after_treatment",
      "direct_transition": "4 Months between Initial Follow-Ups",
      "value": 0
    },
    "Reset Initial Follow-Up Counter": {
      "type": "SetAttribute",
      "attribute": "init_followup_counter",
      "direct_transition": "Decrement Years Left",
      "value": 0
    },
    "1 Year Passed": {
      "type": "Delay",
      "exact": {
        "quantity": 1,
        "unit": "years"
      },
      "direct_transition": "Initial Follow-Up Doctor Visit"
    },
    "Initial Follow-Up Doctor Visit": {
      "type": "Encounter",
      "encounter_class": "ambulatory",
      "reason": "",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 185389009,
          "display": "Follow-up visit (procedure)"
        }
      ],
      "direct_transition": "End Initial Follow-Up Doctor Visit",
      "remarks": [
        "https://www.cancer.org/cancer/breast-cancer/living-as-a-breast-cancer-survivor/follow-up-care-after-breast-cancer-treatment.html"
      ]
    },
    "Death": {
      "type": "Death",
      "direct_transition": "Terminal"
    },
    "Follow-Up Treatment": {
      "type": "Simple",
      "direct_transition": "Initialize Initial Follow-Up Counter"
    },
    "Decrement Years Left": {
      "type": "Counter",
      "attribute": "years_left",
      "action": "decrement",
      "direct_transition": "Years After Treatment Counter"
    },
    "Treatment Unsuccessful": {
      "type": "Simple",
      "distributed_transition": [
        {
          "transition": "Terminal 1 Year",
          "distribution": 0.2
        },
        {
          "transition": "Terminal 2 Years",
          "distribution": 0.2
        },
        {
          "transition": "Terminal 3 Years",
          "distribution": 0.2
        },
        {
          "transition": "Terminal 4 Years",
          "distribution": 0.2
        },
        {
          "transition": "Terminal 5 Years",
          "distribution": 0.2
        }
      ]
    },
    "Treatment Successful": {
      "type": "SetAttribute",
      "attribute": "years_left",
      "direct_transition": "Follow-Up Treatment",
      "value": 200
    },
    "Terminal 1 Year": {
      "type": "SetAttribute",
      "attribute": "years_left",
      "value": 1,
      "direct_transition": "Follow-Up Treatment"
    },
    "Terminal 2 Years": {
      "type": "SetAttribute",
      "attribute": "years_left",
      "value": 2,
      "direct_transition": "Follow-Up Treatment"
    },
    "Terminal 3 Years": {
      "type": "SetAttribute",
      "attribute": "years_left",
      "value": 3,
      "direct_transition": "Follow-Up Treatment"
    },
    "Terminal 4 Years": {
      "type": "SetAttribute",
      "attribute": "years_left",
      "value": 4,
      "direct_transition": "Follow-Up Treatment"
    },
    "Terminal 5 Years": {
      "type": "SetAttribute",
      "attribute": "years_left",
      "value": 5,
      "direct_transition": "Follow-Up Treatment"
    },
    "69 < Age <= 85": {
      "type": "Delay",
      "range": {
        "low": 70,
        "high": 85,
        "unit": "years"
      },
      "distributed_transition": [
        {
          "transition": "Regular Mammogram Visit",
          "distribution": 0.69
        },
        {
          "transition": "BreastCancer_Symptom1",
          "distribution": 1
        }
      ]
    },
    "85 < Age": {
      "type": "Delay",
      "range": {
        "low": 85,
        "high": 140,
        "unit": "years"
      },
      "distributed_transition": [
        {
          "transition": "Regular Mammogram Visit",
          "distribution": 0.48
        },
        {
          "transition": "BreastCancer_Symptom1",
          "distribution": 1
        }
      ]
    },
    "Regular_Mammogram": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 71651007,
          "display": "Mammography (procedure)"
        }
      ],
      "duration": {
        "low": 15,
        "high": 25,
        "unit": "minutes"
      },
      "distributed_transition": [
        {
          "transition": "Ultrasound",
          "distribution": 0.75
        },
        {
          "transition": "MRI",
          "distribution": 0.25
        }
      ]
    },
    "Regular Mammogram Visit": {
      "type": "Encounter",
      "encounter_class": "inpatient",
      "reason": "",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 394656005,
          "display": "Inpatient care (regime/therapy)"
        }
      ],
      "direct_transition": "Regular_Mammogram"
    },
    "Breast Cancer Found": {
      "type": "ConditionOnset",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 254837009,
          "display": "Malignant neoplasm of breast (disorder)"
        }
      ],
      "target_encounter": "Breast Cancer Encounter",
      "direct_transition": "Diagnose_TNM_Markers"
    },
    "Breast Biopsy": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 122548005,
          "display": "Biopsy of breast (procedure)"
        }
      ],
      "duration": {
        "low": 20,
        "high": 60,
        "unit": "minutes"
      },
      "conditional_transition": [
        {
          "transition": "Breast Cancer Found",
          "condition": {
            "condition_type": "PriorState",
            "name": "Regular_Mammogram"
          }
        },
        {
          "transition": "Diagnose_TNM_Markers"
        }
      ]
    },
    "Time Before Initial Doctor Visit": {
      "type": "Delay",
      "direct_transition": "Breast Cancer Encounter",
      "range": {
        "low": 0,
        "high": 1,
        "unit": "weeks"
      }
    },
    "Delay Before Oncologist Biopsy": {
      "type": "Delay",
      "direct_transition": "TNM_Staging_Visit",
      "range": {
        "low": 1,
        "high": 3,
        "unit": "days"
      }
    },
    "Delay for Analysis of Possible Treatments": {
      "type": "Delay",
      "range": {
        "low": 1,
        "high": 7,
        "unit": "days"
      },
      "direct_transition": "Sit-Down with Oncologist to Discuss Treatment Options"
    },
    "Sit-Down with Oncologist to Discuss Treatment Options": {
      "type": "Encounter",
      "encounter_class": "inpatient",
      "reason": "",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 223484005,
          "display": "Discussion about treatment (procedure)"
        }
      ],
      "direct_transition": "End Meeting with Oncologist"
    },
    "End Meeting with Oncologist": {
      "type": "EncounterEnd",
      "direct_transition": "Choose_Treatment_Option"
    },
    "Stage I Treatment": {
      "type": "Simple",
      "distributed_transition": [
        {
          "transition": "Treatment Successful",
          "distribution": 0.99
        },
        {
          "transition": "Treatment Unsuccessful",
          "distribution": 0.01
        }
      ]
    },
    "Choose_Treatment_Option": {
      "type": "Delay",
      "range": {
        "low": 1,
        "high": 7,
        "unit": "days"
      },
      "conditional_transition": [
        {
          "transition": "Set pre-surgery chemo counter",
          "condition": {
            "condition_type": "Or",
            "conditions": [
              {
                "condition_type": "PriorState",
                "name": "Stage III"
              },
              {
                "condition_type": "PriorState",
                "name": "Stage IV"
              }
            ]
          }
        },
        {
          "transition": "Begin Hormone Therapy Treatment"
        }
      ]
    },
    "End Treatment": {
      "type": "Simple",
      "conditional_transition": [
        {
          "transition": "Stage 0 Treatment",
          "condition": {
            "condition_type": "PriorState"
          }
        },
        {
          "transition": "Stage I Treatment",
          "condition": {
            "condition_type": "PriorState",
            "name": "Stage I"
          }
        },
        {
          "transition": "Stage II Treatment",
          "condition": {
            "condition_type": "PriorState",
            "name": "Stage II"
          }
        },
        {
          "transition": "Stage III Treatment",
          "condition": {
            "condition_type": "PriorState",
            "name": "Stage III"
          }
        },
        {
          "transition": "Stage IV Treatment",
          "condition": {
            "condition_type": "PriorState",
            "name": "Stage IV"
          }
        },
        {
          "transition": "Stage 0 Treatment"
        }
      ]
    },
    "End Neodjuvant Medication in Preparation for Surgery": {
      "type": "MedicationEnd",
      "direct_transition": "End Chemo Treatment",
      "referenced_by_attribute": "neoMed"
    },
    "Neoadjuvant Chemo Before Surgery": {
      "type": "Encounter",
      "encounter_class": "ambulatory",
      "reason": "Breast Cancer",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 185347001,
          "display": "Encounter for problem"
        }
      ],
      "direct_transition": "Chemotherapy Drugs"
    },
    "End Chemo Treatment": {
      "type": "Delay",
      "direct_transition": "Begin Hormone Therapy Treatment",
      "range": {
        "low": 1,
        "high": 3,
        "unit": "weeks"
      }
    },
    "Doxorubicin": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": 42512,
          "display": "Adriamycin"
        }
      ],
      "remarks": [
        "- Doxorubicin (Adriamycin)",
        "- Epriubicin (Ellence) ",
        "https://www.cancer.org/cancer/breast-cancer/treatment/chemotherapy-for-breast-cancer.html"
      ],
      "direct_transition": "Neoadjuvant chemotherapy procedure",
      "assign_to_attribute": "neoMed"
    },
    "Epirubicin": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": 203766,
          "display": "Ellence"
        }
      ],
      "direct_transition": "Neoadjuvant chemotherapy procedure",
      "assign_to_attribute": "neoMed"
    },
    "Paclitaxel": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": 202982,
          "display": "Taxotere"
        }
      ],
      "direct_transition": "Neoadjuvant chemotherapy procedure",
      "assign_to_attribute": "neoMed"
    },
    "Anthracyclines": {
      "type": "Simple",
      "distributed_transition": [
        {
          "transition": "Doxorubicin",
          "distribution": 0.5
        },
        {
          "transition": "Epirubicin",
          "distribution": 0.5
        }
      ]
    },
    "Taxanes": {
      "type": "Simple",
      "direct_transition": "Paclitaxel"
    },
    "End_Neoadjuvant_Chemo_Treatment": {
      "type": "EncounterEnd",
      "conditional_transition": [
        {
          "transition": "Increment pre-surgery chemo counter",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "neoCount",
            "operator": "<",
            "value": 7
          }
        },
        {
          "transition": "End Neodjuvant Medication in Preparation for Surgery"
        }
      ]
    },
    "Chemotherapy Drugs": {
      "type": "Simple",
      "distributed_transition": [
        {
          "transition": "Anthracyclines",
          "distribution": 0.5
        },
        {
          "transition": "Taxanes",
          "distribution": 0.5
        }
      ]
    },
    "Set pre-surgery chemo counter": {
      "type": "SetAttribute",
      "attribute": "neoCount",
      "direct_transition": "Neoadjuvant Chemo Before Surgery",
      "value": 0
    },
    "Neoadjuvant chemotherapy procedure": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 367336001,
          "display": "Chemotherapy (procedure)"
        }
      ],
      "duration": {
        "low": 0,
        "high": 2,
        "unit": "hours"
      },
      "direct_transition": "End_Neoadjuvant_Chemo_Treatment"
    },
    "Increment pre-surgery chemo counter": {
      "type": "Counter",
      "attribute": "neoCount",
      "action": "increment",
      "direct_transition": "Delay Until Next Cycle"
    },
    "Delay Until Next Cycle": {
      "type": "Delay",
      "exact": {
        "quantity": 3,
        "unit": "weeks"
      },
      "direct_transition": "Start New Chemo Cycle"
    },
    "Start New Chemo Cycle": {
      "type": "Encounter",
      "encounter_class": "ambulatory",
      "reason": "",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 185347001,
          "display": "Encounter for problem"
        }
      ],
      "direct_transition": "Neoadjuvant chemotherapy procedure"
    },
    "Begin Hormone Therapy Treatment": {
      "type": "CallSubmodule",
      "submodule": "breast_cancer/hormonetherapy_breast",
      "direct_transition": "Begin Surgery and Radiation Treatment"
    },
    "Begin Surgery and Radiation Treatment": {
      "type": "CallSubmodule",
      "submodule": "breast_cancer/surgery_therapy_breast",
      "direct_transition": "End Treatment"
    }
  }
}